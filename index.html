<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Avalia√ß√£o de Ader√™ncia Cultural - Brasil Infra (Com Valida√ß√£o)</title>
    <style>
        /* --- todo o teu CSS original mantido --- */
        * {margin:0;padding:0;box-sizing:border-box;}
        body {font-family:'Segoe UI',Tahoma,Verdana,sans-serif;background:linear-gradient(135deg,#f5f5f5,#e8e8e8);min-height:100vh;padding:20px;}
        .container{max-width:900px;margin:0 auto;}
        .header{background:#2B4366;padding:30px;border-radius:12px;margin-bottom:30px;text-align:center;box-shadow:0 8px 16px rgba(0,0,0,0.15);}
        .header h1{color:#EDD730;font-size:32px;margin-bottom:10px;font-weight:700;}
        .header h2{color:white;font-size:24px;font-weight:300;}
        .alert-info{background:#E3F2FD;border-left:4px solid #2196F3;padding:15px;border-radius:8px;margin-bottom:20px;color:#1565C0;font-size:14px;line-height:1.6;}
        .card{background:white;border-radius:12px;padding:30px;box-shadow:0 4px 12px rgba(0,0,0,0.1);margin-bottom:20px;}
        label{display:block;color:#2B4366;font-weight:600;margin-bottom:8px;font-size:14px;}
        input[type="text"]{width:100%;padding:12px;border:2px solid #B3B3B3;border-radius:8px;font-size:16px;transition:border-color .3s;}
        input[type="text"]:focus{outline:none;border-color:#2B4366;}
        .checkbox-group{display:flex;align-items:flex-start;margin-top:15px;}
        .checkbox-group input{width:20px;height:20px;margin-right:10px;margin-top:2px;}
        .btn{width:100%;padding:16px;background:#EDD730;color:#2B4366;border:none;border-radius:8px;font-size:18px;font-weight:700;cursor:pointer;transition:.3s;}
        .btn:hover{background:#D4C020;}
        .hidden{display:none;}
        .spinner{border:3px solid #f3f3f3;border-top:3px solid #2B4366;border-radius:50%;width:20px;height:20px;animation:spin 1s linear infinite;display:inline-block;margin-right:10px;}
        @keyframes spin{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}
    </style>
</head>
<body>
<div class="container">
    <!-- ETAPA 1 -->
    <div id="etapa-identificacao">
        <div class="header">
            <h1>üèóÔ∏è Brasil Infra</h1>
            <h2>Avalia√ß√£o de Ader√™ncia Cultural</h2>
        </div>
        <div class="card">
            <div class="alert-info"><strong>üîí Sistema de Valida√ß√£o</strong> Responda com sinceridade - n√£o h√° respostas certas ou erradas.</div>
            <label>Nome Completo</label>
            <input type="text" id="nome" placeholder="Digite seu nome completo" required>
            <label>CPF (somente n√∫meros)</label>
            <input type="text" id="cpf" placeholder="Digite seu CPF" maxlength="11" required>
            <div class="checkbox-group">
                <input type="checkbox" id="aceite-lgpd">
                <label for="aceite-lgpd">Li e aceito a Pol√≠tica de Privacidade</label>
            </div>
            <button class="btn" onclick="iniciarAvaliacao()">Iniciar Avalia√ß√£o</button>
        </div>
    </div>

    <!-- ETAPA 2 -->
    <div id="etapa-avaliacao" class="hidden">
        <div class="header">
            <h1>üèóÔ∏è Brasil Infra</h1>
            <h2>Avalia√ß√£o em Andamento</h2>
        </div>
        <div class="card">
            <p>‚è±Ô∏è Tempo decorrido: <span id="tempo-total">0:00</span></p>
            <div id="questoes-container"></div>
            <button class="btn" id="btn-finalizar" onclick="finalizarAvaliacao()" disabled>Finalizar Avalia√ß√£o</button>
        </div>
    </div>

    <!-- ETAPA 3 -->
    <div id="etapa-resultado" class="hidden">
        <div class="header">
            <h1>üèóÔ∏è Brasil Infra</h1>
            <h2>Resultado da Avalia√ß√£o</h2>
        </div>
        <div class="card">
            <h3 id="resultado-nome-colaborador"></h3>
            <p>M√©dia geral: <strong id="percentual-geral">0%</strong></p>
            <button class="btn" id="btn-enviar" onclick="enviarResultado()">Enviar Resultado para o RH</button>
        </div>
    </div>
</div>

<script>
let dadosColaborador = { nome:'', cpf:'', tempoInicio:null, tempoFim:null, respostas:{} };
const questoes = [
  {id:1,texto:'Dou o meu melhor no trabalho'}, 
  {id:2,texto:'Cumpro prazos e metas estabelecidas'}
];

function iniciarAvaliacao(){
  const nome=document.getElementById('nome').value.trim();
  const cpf=document.getElementById('cpf').value.trim();
  const aceite=document.getElementById('aceite-lgpd').checked;
  if(!nome||!cpf||!aceite){aler
